<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banner Curso R</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f0f2f5;
        }
        .banner-container {
            background: linear-gradient(135deg, #2a9d8f 0%, #264653 100%); /* Blue-green gradient */
            color: #fff;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 900px;
            width: 100%;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;
        }

        @media (min-width: 768px) {
            .banner-container {
                flex-direction: row;
                text-align: left;
                gap: 2.5rem;
                padding: 3rem;
            }
        }

        .visual-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            border-radius: 1.5rem;
            z-index: 0;
        }
        .visual-elements::before {
            content: '';
            position: absolute;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle at 10% 20%, rgba(255,255,255,0.08) 0%, transparent 50%),
                        radial-gradient(circle at 90% 80%, rgba(255,255,255,0.05) 0%, transparent 50%);
            animation: pulse 15s infinite ease-in-out;
        }

        .visual-elements .neural-network {
            position: absolute;
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3Cfilter id='f1' x='-50%' y='-50%' width='200%' height='200%25'%3E%3CfeGaussianBlur in='SourceGraphic' stdDeviation='1.5' /%3E%3C/filter%3E%3C/defs%3E%3Ccircle cx='20' cy='30' r='3' fill='%2366CCEE' filter='url(%23f1)'%3E%3C/circle%3E%3Ccircle cx='50' cy='15' r='3' fill='%23FF99CC' filter='url(%23f1)'%3E%3C/circle%3E%3Ccircle cx='80' cy='30' r='3' fill='%2366CCEE' filter='url(%23f1)'%3E%3C/circle%3E%3Ccircle cx='35' cy='60' r='3' fill='%23FFCC00' filter='url(%23f1)'%3E%3C/circle%3E%3Ccircle cx='65' cy='60' r='3' fill='%23FFCC00' filter='url(%23f1)'%3E%3C/circle%3E%3Ccircle cx='50' cy='85' r='3' fill='%23FF99CC' filter='url(%23f1)'%3E%3C/circle%3E%3Cline x1='20' y1='30' x2='35' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='20' y1='30' x2='65' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='50' y1='15' x2='35' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='50' y1='15' x2='65' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='80' y1='30' x2='35' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='80' y1='30' x2='65' y2='60' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='35' y1='60' x2='50' y2='85' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3Cline x1='65' y1='60' x2='50' y2='85' stroke='%23fff' stroke-width='0.2' opacity='0.5'/%3E%3C/svg%3E") no-repeat center center / contain;
            opacity: 0.15;
            animation: rotate 20s infinite linear;
        }

        .visual-elements .r-plot {
            position: absolute;
            width: 60%;
            height: 60%;
            bottom: -20%;
            right: -20%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect x='10' y='50' width='10' height='40' fill='%23FF6B6B' opacity='0.8'/%3E%3Crect x='25' y='30' width='10' height='60' fill='%236BFF6B' opacity='0.8'/%3E%3Crect x='40' y='60' width='10' height='30' fill='%236B6BFF' opacity='0.8'/%3E%3Crect x='55' y='20' width='10' height='70' fill='%23FFD166' opacity='0.8'/%3E%3Crect x='70' y='40' width='10' height='50' fill='%239B59B6' opacity='0.8'/%3E%3Cpath d='M10 90 L20 70 L30 80 L40 60 L50 75 L60 55 L70 65 L80 45 L90 55' stroke='%23fff' stroke-width='0.5' fill='none' opacity='0.6'/%3E%3C/svg%3E") no-repeat center center / contain;
            opacity: 0.1;
            transform: rotate(-15deg);
        }
        /* Style for the project ideas container */
        #projectIdeasOutput, #benefitsOutput { /* Combined styling for both output areas */
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 0.75rem;
            padding: 1rem;
            margin-top: 1.5rem;
            font-size: 0.95rem;
            text-align: left;
            min-height: 80px; /* Ensure some height even when empty */
            line-height: 1.5;
            word-wrap: break-word; /* Ensure long words break */
            overflow-wrap: break-word; /* Modern equivalent */
            max-width: 100%; /* Ensure it respects its parent's width */
        }
        #projectIdeasOutput.loading, #benefitsOutput.loading {
            background-color: rgba(255, 255, 255, 0.1);
            color: #ccc;
        }
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 1rem; /* Space between buttons */
            width: 100%;
            align-items: center;
            margin-top: 1.5rem;
        }
        @media (min-width: 768px) {
            .button-group {
                flex-direction: row;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="banner-container">
        <div class="visual-elements">
            <div class="neural-network"></div>
            <div class="r-plot"></div>
        </div>

        <div class="content-section flex flex-col items-center md:items-start">
            <div class="flex items-center mb-4">
                <!-- R Logo -->
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/1086px-R_logo.svg.png?20240131042527" alt="Logo de R" class="w-16 h-16 inline-block rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/64x64/219ebc/ffffff?text=R';">
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold leading-tight mb-3">
                Curso de Posgrado
            </h1>
            <h2 class="text-3xl md:text-4xl font-bold text-teal-200 mb-5">
                Introducción general al uso de R
            </h2>
            <p class="text-lg md:text-xl font-medium mb-2">
                <span class="font-semibold text-sky-200">Organiza:</span> Doctorado de Ciencias Aplicadas (DCA-UNaM)
            </p>
            <p class="text-lg md:text-xl font-medium mb-6">
                <span class="font-semibold text-sky-200">Lugar:</span> Posadas, Misiones
            </p>
            <a href="https://rb.gy/x0gm7m" target="_blank" class="bg-gradient-to-r from-emerald-400 to-teal-500 hover:from-emerald-500 hover:to-teal-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 mb-6 md:mb-0">
                ¡Preinscríbete aquí!
            </a>

            <div class="button-group">
                <!-- LLM-powered feature 1: Project Idea Generator -->
                <button id="generateIdeasButton" class="bg-gradient-to-r from-purple-400 to-indigo-500 hover:from-purple-500 hover:to-indigo-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    ✨Generar Ideas de Proyectos en R✨
                </button>
                <!-- LLM-powered feature 2: R Benefits Discoverer -->
                <button id="generateBenefitsButton" class="bg-gradient-to-r from-rose-400 to-pink-500 hover:from-rose-500 hover:to-pink-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    ✨Descubrir Beneficios de R✨
                </button>
            </div>

            <div id="projectIdeasOutput" class="w-full text-center text-gray-200 mt-6">
                Haz clic en el botón de ideas de proyectos para obtener inspiración.
            </div>
            <div id="benefitsOutput" class="w-full text-center text-gray-200 mt-6">
                Haz clic en el botón de beneficios para aprender más sobre R.
            </div>
        </div>

        <div class="info-section flex flex-col items-center md:items-end md:text-right">
            <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20 mb-6 w-full max-w-sm">
                <h3 class="text-xl md:text-2xl font-semibold text-sky-200 mb-3">Fechas Clave</h3>
                <p class="text-lg font-light mb-2"><span class="font-medium text-emerald-100">Curso:</span> 4 al 8 de Agosto, 2025</p>
                <p class="text-lg font-light"><span class="font-medium text-emerald-100">Preinscripción hasta:</span> 15 de Junio</p>
            </div>

            <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20 w-full max-w-sm">
                <h3 class="text-xl md:text-2xl font-semibold text-sky-200 mb-3">Docente</h3>
                <p class="text-lg font-light">Dr. Ignacio Minoli</p>
                <p class="text-sm font-light text-gray-300">@ IBS - CONICET</p>
            </div>
        </div>
    </div>

    <script>
        // Define multiple sets of mock project ideas
        const mockProjectIdeas = [
            `
            1.  **Análisis de Datos de Crecimiento:** Importa un CSV de árboles, calcula alturas totales, promedios y crea gráficos de barras para visualizar las alturas por especies por año.
            2.  **Visualización de Datos de Avistajes de Aves:** Carga datos de avistajes, realiza análisis de frecuencia de observaciones y genera gráficos de pastel o barras apiladas para mostrar distribuciones.
            3.  **Predicción Simple de Precios de Yerba:** Utiliza un conjunto de datos pequeño (ej. precios de yerba por tonelada con una variable predictora) para construir un modelo de regresión lineal básico y visualizar la relación.
            `,
            `
            1.  **Exploración de Datos de Salud:** Analiza un dataset de pacientes para encontrar patrones en enfermedades, tratamientos o datos demográficos. Visualiza con histogramas o boxplots.
            2.  **Generación de Reportes Automatizados:** Aprende a crear reportes dinámicos usando R Markdown, combinando texto, código R y resultados visuales.
            3.  **Minería de Texto Básica:** Realiza un análisis de sentimientos simple sobre un conjunto de tweets o comentarios, identificando palabras clave (como especies, enfermedades, fenómenos meteorológicos) y tendencias.
            `,
            `
            1.  **Simulación de Datos Aleatorios:** Genera conjuntos de datos climáticos con R para entender distribuciones estadísticas y luego grafícalos para observar sus propiedades.
            2.  **Creación de Mapas Simples:** Utiliza paquetes de R para visualizar datos geográficos, como la densidad de población o la ubicación de eventos en un mapa interactivo.
            3.  **Comparación de Métodos Estadísticos:** Aplica diferentes pruebas estadísticas a los mismos datos y compara sus resultados, visualizando las diferencias.
            `
        ];

        // Define multiple sets of mock benefits
        const mockBenefits = [
            `
            1.  **Versatilidad:** R es ampliamente utilizado en estadística, ciencia de datos, machine learning y visualización.
            2.  **Comunidad Activa:** Gran soporte online y abundantes paquetes (CRAN) para casi cualquier necesidad.
            3.  **Visualización Poderosa:** Herramientas como ggplot2 permiten crear gráficos de alta calidad y muy personalizables.
            4.  **Carrera Profesional:** Alta demanda de profesionales con habilidades en R en diversos sectores.
            `,
            `
            1.  **Análisis Estadístico Avanzado:** R ofrece una profundidad inigualable para modelado complejo, pruebas de hipótesis y análisis multivariado.
            2.  **Reproducibilidad Científica:** Facilita la creación de flujos de trabajo transparentes y reproducibles para la investigación.
            3.  **Integración con Big Data:** Capacidad para manejar y procesar grandes volúmenes de datos mediante diversas extensiones.
            4.  **Open Source y Gratuito:** Acceso completo a todas sus funcionalidades sin costo, con constante evolución y mejora.
            `,
            `
            1.  **Desarrollo de Paquetes:** Permite a los usuarios crear y compartir sus propias herramientas y funciones, contribuyendo a la comunidad.
            2.  **Web Apps Interactivas (Shiny):** Habilidad para construir aplicaciones web interactivas y paneles de control directamente desde R.
            3.  **Conexión con Bases de Datos:** Facilita la extracción, transformación y carga (ETL) de datos desde diversas fuentes.
            4.  **Machine Learning:** Acceso a una vasta gama de algoritmos de aprendizaje automático para predicción y clasificación.
            `
        ];


        // Function to call Gemini API or return mock data
        async function callGeminiAPI(prompt, outputDiv, mockDataSet) {
            outputDiv.innerHTML = 'Generando...';
            outputDiv.classList.add('loading');

            const apiKey = ""; // Canvas will automatically provide the API key here.

            if (apiKey === "") {
                // Mock response for local execution (without API key)
                console.warn("API Key not found. Displaying mock data for local execution.");
                // Randomly select one mock data set
                const randomIndex = Math.floor(Math.random() * mockDataSet.length);
                let mockData = mockDataSet[randomIndex];
                
                // Convert Markdown bold to HTML strong tags for mock data
                let formattedMockData = mockData.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                setTimeout(() => {
                    outputDiv.innerHTML = formattedMockData.replace(/\n/g, '<br>'); // Display text, preserving newlines
                    outputDiv.classList.remove('loading');
                }, 1500); // Simulate network delay
                return; // Exit the function to prevent API call
            }

            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    let text = result.candidates[0].content.parts[0].text;
                    // Convert Markdown bold to HTML strong tags for API response
                    text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    outputDiv.innerHTML = text.replace(/\n/g, '<br>'); // Display text, preserving newlines
                } else {
                    outputDiv.innerHTML = 'Error al generar contenido. Inténtalo de nuevo.';
                    console.error('Unexpected API response structure:', result);
                }
            } catch (error) {
                outputDiv.innerHTML = 'Error de conexión. Asegúrate de que la API está accesible.';
                console.error('Error fetching from Gemini API:', error);
            } finally {
                outputDiv.classList.remove('loading');
            }
        }

        // Event listener for Project Ideas button
        document.getElementById('generateIdeasButton').addEventListener('click', () => {
            const outputDiv = document.getElementById('projectIdeasOutput');
            const prompt = "Genera 3 ideas de proyectos de programación en R para principiantes, enfocados en manipulación de datos, visualización y análisis básico. Presenta las ideas como una lista concisa.";
            callGeminiAPI(prompt, outputDiv, mockProjectIdeas); // Pass mockProjectIdeas array
        });

        // Event listener for R Benefits button
        document.getElementById('generateBenefitsButton').addEventListener('click', () => {
            const outputDiv = document.getElementById('benefitsOutput');
            const prompt = "Genera una lista de 4 beneficios clave de aprender el lenguaje de programación R para un profesional o estudiante de ciencia de datos. Enfócate en su utilidad práctica y ventajas en el campo laboral.";
            callGeminiAPI(prompt, outputDiv, mockBenefits); // Pass mockBenefits array
        });
    </script>
</body>
</html>
